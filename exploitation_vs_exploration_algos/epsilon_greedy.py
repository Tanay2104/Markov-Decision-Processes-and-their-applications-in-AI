import numpy as np
class algo:
    def __init__(self, k):
        self.k = k
        self.epsilon = 0.1
        self.counter = np.zeros(k, dtype=int)
        self.Q_values = np.array([0.0 for i in range(k)], dtype=np.float64)

    def choose(self):
        if np.random.random() < self.epsilon:
            chosen_index = np.random.randint(0, self.k)
        else:
            chosen_index = np.argmax(self.Q_values)
        self.counter[chosen_index]+=1
        return chosen_index
    
    def update(self, max_index, reward):
        self.Q_values[max_index]=self.Q_values[max_index] + (reward - self.Q_values[max_index])/self.counter[max_index]
        #Q_new(a) = Q_old(a) + (1/N(a)) * (R - Q_old(a)